package person.spring.test;import org.apache.ibatis.session.SqlSession;import org.springframework.beans.factory.BeanFactory;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.web.context.support.XmlWebApplicationContext;import person.dao.IUserMapper;import person.pojo.TestUser;import person.spring.test.jdbcTest.UserServiceImpl;import person.util.SqlUtil;import java.sql.SQLException;import java.util.regex.Pattern;public class springTest {    public static void main(String[] args) throws ClassNotFoundException, SQLException {        testSpringMybatis();    }    public static  void testTrasaction(){         /* IOperation iOperation = new IOperationImpl();        MyInvacationHandler invocationHandler = new MyInvacationHandler(iOperation);        iOperation = (IOperation) invocationHandler.getProxy(iOperation);        iOperation.print("111111");*/        ApplicationContext applicationContext = new ClassPathXmlApplicationContext("test.xml");        UserServiceImpl userService = (UserServiceImpl) applicationContext.getBean("userServiceImpl1");        TestUser testUser= new TestUser();        testUser.setId("111");        testUser.setNamess("zsxxsss");        TestUser testUser1= new TestUser();        testUser1.setId("22");        testUser1.setNamess("zsxxsss");        //userService.save1(testUser);        userService.save(testUser1);        for (String arg : applicationContext.getBeanDefinitionNames()) {            System.out.println("============="+arg);        };      /*  springListener listener = applicationContext.getBean(springListener.class);        System.out.println("第一次加载完毕===============================");        System.out.println(listener);*/    }    public  static void  testMybatis(){        SqlSession session =  SqlUtil.openSession();        IUserMapper userMapper = session.getMapper(IUserMapper.class);        TestUser testUser = new TestUser();        testUser.setNamess("张三");        testUser.setId("11111");        userMapper.insertUser(testUser);        session.commit();        SqlUtil.closeSession(session);    }    public static void testSpringMybatis(){        //相比之下，少了sqlsession的手动获取，以及session的提交        ApplicationContext applicationContext = new ClassPathXmlApplicationContext("test.xml");        IUserMapper userMapper = (IUserMapper)applicationContext.getBean("userMapper");        TestUser testUser = new TestUser();        testUser.setNamess("张三");        testUser.setId("11111");        userMapper.insertUser(testUser);    }}